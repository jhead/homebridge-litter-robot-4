# Whisker App Reverse Engineering

## LR4 GraphQL Mutations

```
102166 0x0101c7e0 0x0101c7e0 151  152  1.__TEXT.__const ascii       mutation RegisterLR4($value: LR4RegisterRobotInput!) {\n      registerLitterRobot4(input: $value) {\n        body\n        statusCode\n      }\n    }\n
104843 0x01044b00 0x01044b00 140  141  1.__TEXT.__const ascii     mutation toggleHopper($serial: String!, $isRemoved: Boolean!) {\n  toggleHopper(serial: $serial, isRemoved: $isRemoved) {\n    success\n  }\n}
104929 0x010461a0 0x010461a0 249  250  1.__TEXT.__const ascii   mutation SetUserFunctionalSettings($userId: String, $autoUpdateFeature: FeatureFlagOptions) {\n  setUserFunctionalSettings(userFunctionalSettingsInput: {userId: $userId, autoUpdateFeature: $autoUpdateFeature}) {\n    autoUpdateFeature\n    userId\n  }\n}
105878 0x01053920 0x01053920 1764 1765 1.__TEXT.__const ascii       mutation updateUserSettings ($value: UpdateUserSettingsInput!) {\n    updateUserSettings (input: $value) {\n        user {\n            useMetric\n            settings {\n                LR4Notifications {\n                    all_notifications\n                    CCC_notifications\n                    CSI_notifications\n                    DFI_notifications\n                    fault_notifications\n                    CSF_notifications\n                    PD_notifications\n                    OTF_notifications\n                    DHF_notifications\n                    BR_notifications\n                    MTF_notifications\n                    MID_notifications\n                    general_notifications\n                    offline_notifications\n                    LF_notifications\n                    LL_notifications\n                    HPE_notifications\n                }\n                LR3Notifications {\n                  BR_notifications\n                  CCC_notifications\n                  CSF_notifications\n                  CSI_notifications\n                  DFI_notifications\n                  DHF_notifications\n                  OTF_notifications\n                  PD_notifications\n                  all_notifications\n                  fault_notifications\n                  general_notifications\n                  offline_notifications\n                }\n                FR1Notifications {\n                  chuteFullExt\n                  defectiveSensor\n                  dispenseFailed\n                  levelLow\n                  mealDispensed\n                  motorFault\n                  snackDispensed\n                  snackRejected\n                  all\n                }\n            }\n        }\n        statusCode\n        body\n    }\n  }\n
115127 0x01108420 0x01108420 8    9    1.__TEXT.__const ascii   mutation
116294 0x011181b0 0x011181b0 166  167  1.__TEXT.__const ascii       mutation UpdateFeeder($id: Int!, $name: String!) {\n      update_feeder_unit(where: {id: {_eq: $id}}, _set: {name: $name}) {\n        affected_rows\n      }\n    }\n
119221 0x011430b0 0x011430b0 113  114  1.__TEXT.__const ascii       mutation UpdatePet($value: UpdatePetInput!) {\n      updatePet(input: $value) {\n        petId\n      }\n    }\n
119846 0x0114c4b0 0x0114c4b0 375  376  1.__TEXT.__const ascii        mutation createUser($email: AWSEmail!, $firstName: String!, $lastName: String!, $password: String!, $extensionAttributes: ExtensionAttributes) {\n      createUser(input: {email: $email, firstName: $firstName, lastName: $lastName, password: $password, extensionAttributes: $extensionAttributes}) {\n        id\n        firstName\n        lastName\n        email\n      }\n    }\n
124475 0x011952e0 0x011952e0 197  198  1.__TEXT.__const ascii       mutation ActivateWPlusSubscription($input: ActivateWPlusSubscriptionInput!) {\n      activateWPlusSubscription(input: $input) {\n        success\n        result_code\n        message\n      }\n    }\n
127819 0x011c7780 0x011c7780 152  153  1.__TEXT.__const ascii       mutation litterRobot4StateUpdate($value: LR4UpdateLitterRobotInput!) {\n      updateLitterRobot4(input: $value) {\n       surfaceType\n      }\n    }\n
128285 0x011cee00 0x011cee00 2399 2400 1.__TEXT.__const ascii        mutation resetScoopsSavedCounter($serial: String!) {\n      resetScoopsSavedCounter(serial: $serial) {\n     userId\n    robotCount\n    robots {\n      unitId\n      name\n      serial\n      userId\n      espFirmware\n      picFirmwareVersion\n      picFirmwareVersionHex\n      laserBoardFirmwareVersion\n      laserBoardFirmwareVersionHex\n      wifiRssi\n      unitPowerType\n      catWeight\n      unitTimezone\n      unitTime\n      cleanCycleWaitTime\n      isKeypadLockout\n      nightLightMode\n      nightLightBrightness\n      isPanelSleepMode\n      panelBrightnessHigh\n      panelBrightnessLow\n      smartWeightEnabled\n      panelSleepTime\n      panelWakeTime\n      displayCode\n      weekdaySleepModeEnabled {\n        Sunday {\n          sleepTime\n          wakeTime\n          isEnabled\n        }\n        Monday {\n              sleepTime\n              wakeTime\n              isEnabled\n            }\n        Tuesday {\n              sleepTime\n              wakeTime\n              isEnabled\n            }\n        Wednesday {\n              sleepTime\n              wakeTime\n              isEnabled\n            }\n        Thursday {\n              sleepTime\n              wakeTime\n              isEnabled\n            }\n        Friday {\n              sleepTime\n              wakeTime\n              isEnabled\n            }\n        Saturday {\n              sleepTime\n              wakeTime\n              isEnabled\n            }\n      }\n      litterLevelPercentage\n      litterLevelState\n      unitPowerStatus\n      sleepStatus\n      robotStatus\n      globeMotorFaultStatus\n      pinchStatus\n      catDetect\n      isBonnetRemoved\n      isNightLightLEDOn\n      odometerPowerCycles\n      odometerCleanCycles\n      odometerEmptyCycles\n      odometerFilterCycles\n      isDFIResetPending\n      DFINumberOfCycles\n      DFILevelPercent\n      isDFIFull\n      DFIFullCounter\n      DFITriggerCount\n      litterLevel\n      DFILevelMM\n      isCatDetectPending\n      globeMotorRetractFaultStatus\n      robotCycleStatus\n      robotCycleState\n      weightSensor\n      isOnline\n      isOnboarded\n      isProvisioned\n      isDebugModeActive\n      lastSeen\n      sessionId\n      setupDateTime\n      isFirmwareUpdateTriggered\n      firmwareUpdateStatus\n      wifiModeStatus\n      isUSBPowerOn\n      USBFaultStatus\n      isDFIPartialFull\n      isLaserDirty\n      hopperStatus\n      scoopsSavedCount\n      isHopperRemoved\n    }\n  }\n  }\n
128431 0x011d2060 0x011d2060 1110 1111 1.__TEXT.__const ascii       mutation updateUserSettingsV2($value: UpdateUserSettingsV2Input!) {\n      updateUserSettingsV2(input: $value) {\n          user {\n              settingsV2 {\n                  LR4Notifications {\n                    allRobotUsage\n                    drawerFull\n                    lowLitter\n                    petInactivity\n                    cleanCycleComplete\n                    cleanCycleInterrupted\n                    catDetectedInDrawer\n                    hopperEnabled\n                    firmwareUpdateSuccessful\n                    allErrors\n                  }\n                  LR3Notifications {\n                    allRobotUsage\n                    drawerFull\n                    cleanCycleComplete\n                    cleanCycleInterrupted\n                    allErrors\n                  }\n                  FR1Notifications {\n                    allRobotUsage\n                    mealDispensed\n                    snackDispensed\n                    levelLow\n                    allErrors\n                  }\n              }\n          }\n          statusCode\n          body\n      }\n    }\n
130609 0x011f4410 0x011f4410 123  124  1.__TEXT.__const ascii       mutation AddPet($value: AddPetInput!) {\n      addPet(input: $value) {\n        petId\n        s3ImageURL\n      }\n    }\n
131897 0x01208400 0x01208400 267  268  1.__TEXT.__const ascii        mutation updateUser($id: ID!, $email: AWSEmail!, $firstName: String!, $lastName: String!) {\n      updateUser(input: {id: $id, email: $email, firstName: $firstName, lastName: $lastName}) {\n        id\n        firstName\n        lastName\n        email\n      }\n    }\n
134454 0x01231740 0x01231740 129  130  1.__TEXT.__const ascii       mutation DeleteRobot($id: Int!) {\n      delete_feeder_unit(where: {id: {_eq: $id}}) {\n        affected_rows\n      }\n    }\n  2
136524 0x0124da60 0x0124da60 134  135  1.__TEXT.__const ascii       mutation addUser($value: AddUserInput!) {\n      addUser(input: $value){\n        user {\n          userId\n        }\n      }\n    }\n
138592 0x0126b650 0x0126b650 86   87   1.__TEXT.__const ascii       mutation DeletePet($petId: String!) {\n      deletePet(input: {petId: $petId})\n  }\n
141710 0x01297da0 0x01297da0 127  128  1.__TEXT.__const ascii       mutation litterRobot4MultiStateSync($userId: String!) {\n      litterRobot4MultiStateSync(input: {userId: $userId})\n    }\n
147242 0x012e4430 0x012e4430 123  124  1.__TEXT.__const ascii     mutation DeleteLR4($serial: String!){\n    deleteLitterRobot4(input: {serial: $serial}) {\n     body\n     statusCode\n  }\n}\n
148030 0x012f1870 0x012f1870 245  246  1.__TEXT.__const ascii       mutation sendLitterRobot4Command($serial: String!, $command: String!, $value: String, $commandSource: String) {\n      sendLitterRobot4Command(input: {serial: $serial, command: $command, value: $value, commandSource: $commandSource})\n    }\n
151792 0x0132f340 0x0132f340 163  164  1.__TEXT.__const ascii   mutation TriggerUpdateBySerial($serialNumber: String!) {\n  triggerRobotUpdateBySerial(serialNumber: $serialNumber) {\n    success\n    message\n    serialNumber\n  }\n}
152572 0x0133b280 0x0133b280 167  168  1.__TEXT.__const ascii       mutation litterRobot4StateUpdate($serial: String!, $name: String!) {\n      updateLitterRobot4(input: {serial: $serial, name: $name}){\n        name\n      }\n    }\n
157423 0x01388fd0 0x01388fd0 195  196  1.__TEXT.__const ascii       mutation UpdateFeederState($serial: String!, $state: jsonb) {\n      update_feeder_unit_state(where: {serial: {_eq: $serial}}, _append: {info: $state}) {\n        affected_rows\n      }\n    }\n
```
